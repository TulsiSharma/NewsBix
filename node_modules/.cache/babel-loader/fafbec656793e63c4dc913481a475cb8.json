{"ast":null,"code":"var _jsxFileName = \"E:\\\\News APp\\\\newsapp\\\\src\\\\App.js\";\nimport React from \"react\";\nimport \"./css/style.css\";\nimport Navbar from \"./components/Navbar\";\nimport TopNews from \"./components/TopNews\";\nimport Headlines from \"./components/Headlines\";\nimport News from \"./Api/News\";\nimport base from \"./base\";\nimport SearchForm from \"./components/SearchForm\";\nimport Shield from \"./components/Shield\";\nimport Footer from \"./components/Footer\";\n\nclass App extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      Nations: [],\n      TopNews: [],\n      Headlines: [],\n      Nation_wise_date: [],\n      oldvalue: \" \",\n      ShortNation: [],\n      arr: [\"TopNews\", \"Headlines\", \"Nation_wise_date\"],\n      Bookmarks: {},\n      show: false\n    };\n\n    this.handleshow = () => {\n      this.setState({\n        show: true\n      });\n    };\n\n    this.handleclose = () => {\n      this.setState({\n        show: false\n      });\n    };\n\n    this.generatedate = async () => {\n      const response = await News.get(\"top-headlines\", {\n        params: {\n          country: \"in\",\n          language: \"en\",\n          maxResults: \"30\",\n          apiKey: 'e4a6153aaf8343bb915342f2b739c487'\n        }\n      });\n      const TopNews = response.data.articles; // console.log(TopNews);\n\n      this.setState({\n        TopNews: TopNews\n      });\n    };\n\n    this.headlines = async () => {\n      const response = await News.get(\"top-headlines\", {\n        params: {\n          country: \"in\",\n          category: \"technology\",\n          apiKey: 'e4a6153aaf8343bb915342f2b739c487'\n        }\n      }); //console.log(response);\n\n      this.setState({\n        Headlines: response.data.articles\n      });\n    };\n\n    this.getcountrynews = async val => {\n      const response = await News.get(\"top-headlines\", {\n        params: {\n          country: val,\n          category: \"technology\",\n          apiKey: 'e4a6153aaf8343bb915342f2b739c487'\n        }\n      }); //console.log(response);\n\n      this.setState({\n        Nation_wise_date: response.data.articles\n      });\n    };\n\n    this.handlechange = event => {\n      if (this.state.oldvalue === \" \" || this.state.oldvalue !== event.currentTarget.value) {\n        this.setState({\n          oldvalue: event.currentTarget.value\n        });\n        this.getcountrynews(event.currentTarget.value);\n      }\n    };\n\n    this.setbookmarks = item => {\n      let Bookmarks = { ...this.state.Bookmarks\n      };\n      const marks = {\n        title: item.title,\n        url: item.url\n      };\n      Bookmarks[item.publishedAt] = marks;\n      this.setState({\n        Bookmarks: Bookmarks\n      });\n    };\n\n    this.redirect = val => {\n      this.props.history.push(`/articles/` + val);\n    };\n  }\n\n  componentDidMount() {\n    let Bookmarks = localStorage.getItem(\"NewsBix\");\n\n    if (Bookmarks) {\n      this.setState({\n        Bookmarks: JSON.parse(Bookmarks)\n      });\n    } //console.log(Bookmarks);\n\n\n    this.nation = base.syncState(`/Nations`, {\n      context: this,\n      state: 'Nations'\n    });\n    this.shortnation = base.syncState(`/ShortNation`, {\n      context: this,\n      state: \"ShortNation\"\n    });\n    this.topnews = base.syncState(`/TopNews`, {\n      context: this,\n      state: 'TopNews'\n    });\n    this.headline = base.syncState(`/Headlines`, {\n      context: this,\n      state: 'Headlines'\n    });\n    this.generatedate();\n    this.headlines();\n  }\n\n  componentDidUpdate() {\n    localStorage.setItem(\"NewsBix\", JSON.stringify(this.state.Bookmarks));\n  }\n\n  componentWillUnmount() {\n    base.removeBinding(this.nation);\n    base.removeBinding(this.shortnation);\n    base.removeBinding(this.topnews);\n    base.removeBinding(this.headline);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"main\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Navbar, {\n      handleshow: this.handleshow,\n      handleclose: this.handleclose,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(SearchForm, {\n      show: this.state.show,\n      handleclose: this.handleclose,\n      redirect: this.redirect,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"news-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      style: {\n        color: \"black\",\n        fontStyle: \"bold\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 29\n      }\n    }, \"Top News\")), /*#__PURE__*/React.createElement(Shield, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(TopNews, {\n      TopNews: this.state.TopNews,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"headlines\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 29\n      }\n    }, \"India's Tech News\")), /*#__PURE__*/React.createElement(Shield, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Headlines, {\n      headlines: this.state.Headlines,\n      setbookmarks: this.setbookmarks,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"headlines\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 29\n      }\n    }, \"Countries Wise News \")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"select-bar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      style: {\n        width: \"180px\",\n        height: \"35px\",\n        borderRadius: \"6px\",\n        backgroundColor: \"lightgrey\"\n      },\n      onChange: this.handlechange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      style: {\n        backgroundColor: \"white\",\n        fontWeight: \"500\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 33\n      }\n    }, \"Choose Your Country\"), this.state.Nations.map((val, ind) => /*#__PURE__*/React.createElement(\"option\", {\n      key: ind,\n      value: this.state.ShortNation[ind],\n      style: {\n        backgroundColor: \"white\",\n        fontWeight: \"500\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 68\n      }\n    }, val)))), /*#__PURE__*/React.createElement(Shield, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Headlines, {\n      headlines: this.state.Nation_wise_date,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 29\n      }\n    }))), /*#__PURE__*/React.createElement(Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 21\n      }\n    })));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["E:/News APp/newsapp/src/App.js"],"names":["React","Navbar","TopNews","Headlines","News","base","SearchForm","Shield","Footer","App","Component","state","Nations","Nation_wise_date","oldvalue","ShortNation","arr","Bookmarks","show","handleshow","setState","handleclose","generatedate","response","get","params","country","language","maxResults","apiKey","data","articles","headlines","category","getcountrynews","val","handlechange","event","currentTarget","value","setbookmarks","item","marks","title","url","publishedAt","redirect","props","history","push","componentDidMount","localStorage","getItem","JSON","parse","nation","syncState","context","shortnation","topnews","headline","componentDidUpdate","setItem","stringify","componentWillUnmount","removeBinding","render","color","fontStyle","width","height","borderRadius","backgroundColor","fontWeight","map","ind"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport \"./css/style.css\";\r\nimport Navbar from \"./components/Navbar\";\r\nimport TopNews from \"./components/TopNews\";\r\nimport Headlines from \"./components/Headlines\";\r\nimport News from \"./Api/News\";\r\nimport base from \"./base\";\r\nimport SearchForm from \"./components/SearchForm\";\r\nimport Shield from \"./components/Shield\";\r\nimport Footer from \"./components/Footer\";\r\nclass App extends React.Component{\r\n    state={\r\n        Nations:[],\r\n        TopNews:[],\r\n        Headlines:[],\r\n        Nation_wise_date:[],    \r\n        oldvalue :\" \",\r\n        ShortNation:[],\r\n        arr:[\"TopNews\",\"Headlines\",\"Nation_wise_date\"],\r\n        Bookmarks:{},\r\n        show:false\r\n    };\r\n    handleshow=()=>{\r\n        this.setState({show:true});\r\n    }\r\n    handleclose=()=>{\r\n        this.setState({show:false});\r\n    }\r\n    componentDidMount(){\r\n        let Bookmarks=localStorage.getItem(\"NewsBix\");\r\n        if(Bookmarks){\r\n            this.setState({Bookmarks:JSON.parse(Bookmarks)});\r\n        }\r\n        //console.log(Bookmarks);\r\n        this.nation = base.syncState(`/Nations`,{\r\n            context:this,\r\n            state: 'Nations'\r\n        }\r\n        );\r\n        this.shortnation = base.syncState(`/ShortNation`,{\r\n            context:this,\r\n            state:\"ShortNation\"\r\n        }\r\n        );\r\n        this.topnews = base.syncState(`/TopNews`,{\r\n            context:this,\r\n            state:'TopNews'\r\n        }\r\n        );\r\n        this.headline = base.syncState(`/Headlines`,{\r\n            context:this,\r\n            state:'Headlines'\r\n        }\r\n        );\r\n        this.generatedate();\r\n        this.headlines();\r\n\r\n    }\r\n\r\n    componentDidUpdate(){\r\n        localStorage.setItem(\"NewsBix\",JSON.stringify(this.state.Bookmarks));\r\n    }\r\n\r\n    componentWillUnmount(){\r\n        base.removeBinding(this.nation);\r\n        base.removeBinding(this.shortnation);\r\n        base.removeBinding(this.topnews);\r\n        base.removeBinding(this.headline);\r\n    }\r\n    generatedate= async()=>{\r\n        const response = await News.get(\"top-headlines\",{\r\n            params:{\r\n                country:\"in\",\r\n                language:\"en\",\r\n                maxResults:\"30\",\r\n                apiKey:'e4a6153aaf8343bb915342f2b739c487'\r\n            }\r\n        });\r\n        const TopNews = response.data.articles;\r\n        // console.log(TopNews);\r\n        this.setState({TopNews:TopNews});\r\n        \r\n    }\r\n\r\n    headlines=async()=>{\r\n        const response= await News.get(\"top-headlines\",{\r\n            params:{\r\n                country:\"in\",\r\n                category:\"technology\",\r\n                apiKey:'e4a6153aaf8343bb915342f2b739c487'\r\n            }\r\n        });\r\n        //console.log(response);\r\n        this.setState({Headlines:response.data.articles});\r\n    }\r\n\r\n    getcountrynews=async(val)=>{\r\n        const response= await News.get(\"top-headlines\",{\r\n            params:{\r\n                country:val,\r\n                category:\"technology\",\r\n                apiKey:'e4a6153aaf8343bb915342f2b739c487'\r\n            }\r\n        });\r\n        //console.log(response);\r\n        this.setState({Nation_wise_date:response.data.articles});\r\n        \r\n    }\r\n\r\n    handlechange=(event)=>{\r\n        if(this.state.oldvalue===\" \" || this.state.oldvalue !== event.currentTarget.value){\r\n            this.setState({oldvalue:event.currentTarget.value});\r\n            this.getcountrynews(event.currentTarget.value);\r\n        }\r\n        \r\n    }\r\n    \r\n    setbookmarks=(item)=>{\r\n        let Bookmarks = {...this.state.Bookmarks};\r\n        const marks ={\r\n            title:item.title,\r\n            url:item.url\r\n        }\r\n        Bookmarks[item.publishedAt]=marks;\r\n        this.setState({Bookmarks:Bookmarks});\r\n    }\r\n    redirect=(val)=>{\r\n        this.props.history.push(`/articles/`+val);\r\n    }\r\n    render(){\r\n        return(\r\n            <div className=\"main\" >\r\n                <div className=\"wrapper\">\r\n                    <Navbar handleshow={this.handleshow} handleclose={this.handleclose}/>\r\n                    <SearchForm show={this.state.show} handleclose={this.handleclose} redirect={this.redirect} />\r\n                    <div className=\"news-title\">\r\n                        <div className=\"title\">\r\n                            <h5 style={{color:\"black\",fontStyle:\"bold\"}}>Top News</h5>\r\n                        </div>\r\n                        <Shield>\r\n                            <TopNews TopNews={this.state.TopNews}/>\r\n                        </Shield>\r\n                        <div className=\"headlines\">\r\n                            <h5>India's Tech News</h5>\r\n                        </div>\r\n                        <Shield>\r\n                            <Headlines headlines={this.state.Headlines} setbookmarks={this.setbookmarks}/>\r\n                        </Shield>\r\n                        <div className=\"headlines\">\r\n                            <h5>Countries Wise News </h5>\r\n                        </div>\r\n                        <div className=\"select-bar\">\r\n                            <select style={{width:\"180px\",height:\"35px\",borderRadius:\"6px\",backgroundColor:\"lightgrey\"}} onChange={this.handlechange}>\r\n                                <option style={{backgroundColor:\"white\",fontWeight:\"500\"}}>Choose Your Country</option>\r\n                                {this.state.Nations.map((val,ind)=><option key={ind} value={this.state.ShortNation[ind]} style={{backgroundColor:\"white\",fontWeight:\"500\"}}>{val}</option>)}\r\n                            </select>\r\n                        </div>\r\n                        <Shield>\r\n                            <Headlines headlines={this.state.Nation_wise_date}/>\r\n                        </Shield>\r\n                        \r\n                    </div>\r\n                    <Footer/>\r\n                    \r\n                </div>\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\nexport default App;"]},"metadata":{},"sourceType":"module"}