{"ast":null,"code":"var _jsxFileName = \"E:\\\\News APp\\\\newsapp\\\\src\\\\components\\\\Articles.js\";\nimport React from \"react\";\nimport Navbar from \"./Navbar\";\nimport Headlines from \"./Headlines\";\nimport News from \"../Api/News\";\nimport SearchForm from \"./SearchForm\";\nimport Shield from \"./Shield\";\nimport NotFound from \"./NotFound\";\n\nclass Articles extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      articles: [],\n      Bookmarks: {},\n      show: false,\n      response: {\n        item: \" \"\n      }\n    };\n\n    this.setbookmarks = item => {\n      let Bookmarks = { ...this.state.Bookmarks\n      };\n      const marks = {\n        title: item.title,\n        url: item.url\n      };\n      Bookmarks[item.publishedAt] = marks;\n      this.setState({\n        Bookmarks: Bookmarks\n      });\n    };\n\n    this.getarticles = async query => {\n      const response = await News.get(\"everything\", {\n        params: {\n          q: query,\n          sortBy: \"popularity\",\n          apiKey: 'e4a6153aaf8343bb915342f2b739c487'\n        }\n      });\n      this.setState({\n        response: response\n      });\n      const articles = response.data.articles; // console.log(TopNews);\n\n      this.setState({\n        articles: articles\n      });\n      console.log(this.state.response);\n    };\n\n    this.handleshow = () => {\n      this.setState({\n        show: true\n      });\n    };\n\n    this.handleclose = () => {\n      this.setState({\n        show: false\n      });\n    };\n\n    this.redirect = val => {\n      this.getarticles(val);\n      this.props.history.push(`/articles/` + val);\n    };\n  }\n\n  componentDidMount() {\n    console.log(\"mounted!!\");\n    let Bookmarks = localStorage.getItem(\"NewsBix\");\n\n    if (Bookmarks) {\n      this.setState({\n        Bookmarks: JSON.parse(Bookmarks)\n      });\n    }\n\n    const query = this.props.match.params.name;\n    this.getarticles(query);\n  }\n\n  componentDidUpdate() {\n    localStorage.setItem(\"NewsBix\", JSON.stringify(this.state.Bookmarks));\n  }\n\n  render() {\n    if (!this.state.articles && !this.state.response.data.articles.length) {\n      return /*#__PURE__*/React.createElement(NotFound, {\n        title: \"Article You have Searched Not Found\",\n        btnvalue: \"Dashboard\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 16\n        }\n      });\n    }\n\n    if (!this.state.articles) {\n      return null;\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"main\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Navbar, {\n      handleshow: this.handleshow,\n      handleclose: this.handleclose,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(SearchForm, {\n      show: this.state.show,\n      handleclose: this.handleclose,\n      redirect: this.redirect,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 25\n      }\n    }, \"Articles\")), /*#__PURE__*/React.createElement(Shield, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Headlines, {\n      headlines: this.state.articles,\n      setbookmarks: this.setbookmarks,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 25\n      }\n    }))));\n  }\n\n}\n\nexport default Articles;","map":{"version":3,"sources":["E:/News APp/newsapp/src/components/Articles.js"],"names":["React","Navbar","Headlines","News","SearchForm","Shield","NotFound","Articles","Component","state","articles","Bookmarks","show","response","item","setbookmarks","marks","title","url","publishedAt","setState","getarticles","query","get","params","q","sortBy","apiKey","data","console","log","handleshow","handleclose","redirect","val","props","history","push","componentDidMount","localStorage","getItem","JSON","parse","match","name","componentDidUpdate","setItem","stringify","render","length"],"mappings":"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","sourcesContent":["import React from\"react\";\r\nimport Navbar from \"./Navbar\";\r\nimport Headlines from \"./Headlines\";\r\nimport News from \"../Api/News\";\r\nimport SearchForm from \"./SearchForm\";\r\nimport Shield from \"./Shield\";\r\nimport NotFound from \"./NotFound\";\r\nclass Articles extends React.Component{\r\n    state={\r\n        articles:[],\r\n        Bookmarks:{},\r\n        show:false,\r\n        response:{\r\n            item:\" \"\r\n        }\r\n    }\r\n    componentDidMount(){\r\n        console.log(\"mounted!!\");\r\n        let Bookmarks=localStorage.getItem(\"NewsBix\");\r\n        if(Bookmarks){\r\n            this.setState({Bookmarks:JSON.parse(Bookmarks)});\r\n        }\r\n        const query = this.props.match.params.name;\r\n        this.getarticles(query);\r\n    }\r\n    \r\n    componentDidUpdate(){\r\n        localStorage.setItem(\"NewsBix\",JSON.stringify(this.state.Bookmarks));\r\n    }\r\n    setbookmarks=(item)=>{\r\n        let Bookmarks = {...this.state.Bookmarks};\r\n        const marks ={\r\n            title:item.title,\r\n            url:item.url\r\n        }\r\n        Bookmarks[item.publishedAt]=marks;\r\n        this.setState({Bookmarks:Bookmarks});\r\n    }\r\n    getarticles=async(query)=>{\r\n        const response = await News.get(\"everything\",{\r\n            params:{\r\n                q:query,\r\n                sortBy:\"popularity\",\r\n                apiKey:'e4a6153aaf8343bb915342f2b739c487'\r\n            }\r\n        });\r\n        this.setState({response:response});\r\n        const articles = response.data.articles;\r\n        // console.log(TopNews);\r\n        this.setState({articles:articles});\r\n        console.log(this.state.response);\r\n    }\r\n\r\n    handleshow=()=>{\r\n        this.setState({show:true});\r\n    }\r\n    handleclose=()=>{\r\n        this.setState({show:false});\r\n    }\r\n    redirect=(val)=>{\r\n        this.getarticles(val);\r\n        this.props.history.push(`/articles/`+val);\r\n        \r\n    }\r\n\r\n    render(){\r\n    if(!this.state.articles && !this.state.response.data.articles.length){\r\n        return <NotFound title=\"Article You have Searched Not Found\" btnvalue=\"Dashboard\"/>\r\n    }\r\n    if(!this.state.articles){\r\n        return null;\r\n    }\r\n        return(\r\n            <div className=\"main\">\r\n                <div className=\"wrapper\">\r\n                    <Navbar handleshow={this.handleshow} handleclose={this.handleclose}/>\r\n                    <SearchForm show={this.state.show} handleclose={this.handleclose} redirect={this.redirect} />\r\n                    <div className=\"header\">\r\n                        <h5>Articles</h5>\r\n                    </div>\r\n                    <Shield>\r\n                        <Headlines headlines={this.state.articles} setbookmarks={this.setbookmarks}/>\r\n                    </Shield> \r\n                </div>\r\n            </div>\r\n        );\r\n\r\n    }\r\n}\r\nexport default Articles;"]},"metadata":{},"sourceType":"module"}