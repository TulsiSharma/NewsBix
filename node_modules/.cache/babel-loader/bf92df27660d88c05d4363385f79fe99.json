{"ast":null,"code":"import _regeneratorRuntime from\"E:\\\\News APp\\\\newsapp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"E:\\\\News APp\\\\newsapp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _objectSpread from\"E:\\\\News APp\\\\newsapp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"E:\\\\News APp\\\\newsapp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\News APp\\\\newsapp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"E:\\\\News APp\\\\newsapp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"E:\\\\News APp\\\\newsapp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from\"react\";import Navbar from\"./Navbar\";import Headlines from\"./Headlines\";import News from\"../Api/News\";import SearchForm from\"./SearchForm\";import Shield from\"./Shield\";import NotFound from\"./NotFound\";var Articles=/*#__PURE__*/function(_React$Component){_inherits(Articles,_React$Component);var _super=_createSuper(Articles);function Articles(){var _this;_classCallCheck(this,Articles);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={articles:[],Bookmarks:{},show:false,totalResults:1};_this.setbookmarks=function(item){var Bookmarks=_objectSpread({},_this.state.Bookmarks);var marks={title:item.title,url:item.url};Bookmarks[item.publishedAt]=marks;_this.setState({Bookmarks:Bookmarks});};_this.getarticles=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(query){var response,articles;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return News.get(\"everything\",{params:{q:query,sortBy:\"popularity\",apiKey:'e4a6153aaf8343bb915342f2b739c487'}});case 2:response=_context.sent;_this.setState({totalResults:response.data.totalResults});articles=response.data.articles;// console.log(TopNews);\n_this.setState({articles:articles});console.log(_this.state.response);case 7:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.handleshow=function(){_this.setState({show:true});};_this.handleclose=function(){_this.setState({show:false});};_this.redirect=function(val){_this.getarticles(val);_this.props.history.push(\"/articles/\"+val);};return _this;}_createClass(Articles,[{key:\"componentDidMount\",value:function componentDidMount(){console.log(\"mounted!!\");var Bookmarks=localStorage.getItem(\"NewsBix\");if(Bookmarks){this.setState({Bookmarks:JSON.parse(Bookmarks)});}var query=this.props.match.params.name;this.getarticles(query);}},{key:\"componentDidUpdate\",value:function componentDidUpdate(){localStorage.setItem(\"NewsBix\",JSON.stringify(this.state.Bookmarks));}},{key:\"render\",value:function render(){if(!this.state.articles){return null;}if(!this.state.articles.length&&!this.state.totalResults){return/*#__PURE__*/React.createElement(NotFound,{title:\"Article You have Searched Not Found\",btnvalue:\"Dashboard\"});}return/*#__PURE__*/React.createElement(\"div\",{className:\"main\"},/*#__PURE__*/React.createElement(\"div\",{className:\"wrapper\"},/*#__PURE__*/React.createElement(Navbar,{handleshow:this.handleshow,handleclose:this.handleclose}),/*#__PURE__*/React.createElement(SearchForm,{show:this.state.show,handleclose:this.handleclose,redirect:this.redirect}),/*#__PURE__*/React.createElement(\"div\",{className:\"header\"},/*#__PURE__*/React.createElement(\"h5\",null,\"Articles\")),/*#__PURE__*/React.createElement(Shield,null,/*#__PURE__*/React.createElement(Headlines,{headlines:this.state.articles,setbookmarks:this.setbookmarks}))));}}]);return Articles;}(React.Component);export default Articles;","map":{"version":3,"sources":["E:/News APp/newsapp/src/components/Articles.js"],"names":["React","Navbar","Headlines","News","SearchForm","Shield","NotFound","Articles","state","articles","Bookmarks","show","totalResults","setbookmarks","item","marks","title","url","publishedAt","setState","getarticles","query","get","params","q","sortBy","apiKey","response","data","console","log","handleshow","handleclose","redirect","val","props","history","push","localStorage","getItem","JSON","parse","match","name","setItem","stringify","length","Component"],"mappings":"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","sourcesContent":["import React from\"react\";\r\nimport Navbar from \"./Navbar\";\r\nimport Headlines from \"./Headlines\";\r\nimport News from \"../Api/News\";\r\nimport SearchForm from \"./SearchForm\";\r\nimport Shield from \"./Shield\";\r\nimport NotFound from \"./NotFound\";\r\nclass Articles extends React.Component{\r\n    state={\r\n        articles:[],\r\n        Bookmarks:{},\r\n        show:false,\r\n        totalResults:1\r\n    }\r\n    componentDidMount(){\r\n        console.log(\"mounted!!\");\r\n        let Bookmarks=localStorage.getItem(\"NewsBix\");\r\n        if(Bookmarks){\r\n            this.setState({Bookmarks:JSON.parse(Bookmarks)});\r\n        }\r\n        const query = this.props.match.params.name;\r\n        this.getarticles(query);\r\n    }\r\n    \r\n    componentDidUpdate(){\r\n        localStorage.setItem(\"NewsBix\",JSON.stringify(this.state.Bookmarks));\r\n    }\r\n    setbookmarks=(item)=>{\r\n        let Bookmarks = {...this.state.Bookmarks};\r\n        const marks ={\r\n            title:item.title,\r\n            url:item.url\r\n        }\r\n        Bookmarks[item.publishedAt]=marks;\r\n        this.setState({Bookmarks:Bookmarks});\r\n    }\r\n    getarticles=async(query)=>{\r\n        const response = await News.get(\"everything\",{\r\n            params:{\r\n                q:query,\r\n                sortBy:\"popularity\",\r\n                apiKey:'e4a6153aaf8343bb915342f2b739c487'\r\n            }\r\n        });\r\n        this.setState({totalResults:response.data.totalResults});\r\n        const articles = response.data.articles;\r\n        // console.log(TopNews);\r\n        this.setState({articles:articles});\r\n        console.log(this.state.response);\r\n    }\r\n\r\n    handleshow=()=>{\r\n        this.setState({show:true});\r\n    }\r\n    handleclose=()=>{\r\n        this.setState({show:false});\r\n    }\r\n    redirect=(val)=>{\r\n        this.getarticles(val);\r\n        this.props.history.push(`/articles/`+val);\r\n        \r\n    }\r\n\r\n    render(){\r\n    if(!this.state.articles){\r\n        return null;\r\n    }\r\n    if(!this.state.articles.length && !this.state.totalResults){\r\n        return <NotFound title=\"Article You have Searched Not Found\" btnvalue=\"Dashboard\"/>\r\n    }\r\n        return(\r\n            <div className=\"main\">\r\n                <div className=\"wrapper\">\r\n                    <Navbar handleshow={this.handleshow} handleclose={this.handleclose}/>\r\n                    <SearchForm show={this.state.show} handleclose={this.handleclose} redirect={this.redirect} />\r\n                    <div className=\"header\">\r\n                        <h5>Articles</h5>\r\n                    </div>\r\n                    <Shield>\r\n                        <Headlines headlines={this.state.articles} setbookmarks={this.setbookmarks}/>\r\n                    </Shield> \r\n                </div>\r\n            </div>\r\n        );\r\n\r\n    }\r\n}\r\nexport default Articles;"]},"metadata":{},"sourceType":"module"}